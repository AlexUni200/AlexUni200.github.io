<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Image Map</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            overflow-x: hidden;
            position: relative;
        }

        h1, p {
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2rem;
        }

        p {
            font-size: 1.2rem;
        }

        .tooltip {
            display: none;
            position: absolute;
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            z-index: 100;
            pointer-events: none;
            font-size: 1rem;
        }

        .highlight {
            display: none;
            position: absolute;
            background-color: rgba(255, 0, 0, 0.5);
            border: 2px solid rgba(255, 0, 0, 1);
            pointer-events: none;
            border-radius: 50%;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            position: relative;
        }

        map {
            display: inline-block;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Interactive Image Map</h1>
    <p>Hover or tap on areas to see tooltips</p>

    <div style="position: relative; display: inline-block;">
        <img src="your-image.jpg" usemap="#image-map" alt="Interactive Image" id="interactive-image">

        <div id="tooltip1" class="tooltip">Text for Area 1</div>
        <div id="tooltip2" class="tooltip">Text goes here</div>

        <div id="highlight1" class="highlight"></div>
        <div id="highlight2" class="highlight"></div>
    </div>
	
    <map name="image-map">
        <area shape="circle" coords="212,245,35" href="https://www.vk.com" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 212, 245, 35)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="178,316,30" href="https://www.vk.com" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 178, 316, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="178,394,30" href="https://https://old.reddit.com/r/AskHistorians/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 178, 394, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="178,468,30" href="https://https://old.reddit.com/r/AskHistorians1/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 178, 468, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="178,546,30" href="https://https://old.reddit.com/r/AskHistorians2/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 178, 546, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="109,567,30" href="https://https://old.reddit.com/r/AskHistorians3/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 109, 567, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="120,663,30" href="https://https://old.reddit.com/r/AskHistorians4/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 120, 663, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="178,624,30" href="https://https://old.reddit.com/r/AskHistorians5/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 178, 624, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="178,723,30" href="https://https://old.reddit.com/r/AskHistorians6/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 178, 723, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="274,723,30" href="https://https://old.reddit.com/r/AskHistorians7/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 274, 723, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="362,723,30" href="https://https://old.reddit.com/r/AskHistorians8/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 362, 723, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="468,723,30" href="https://https://old.reddit.com/r/AskHistorians9/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 468, 723, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="548,723,30" href="https://https://old.reddit.com/r/AskHistorians10/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 548, 723, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="578,620,30" href="https://https://old.reddit.com/r/AskHistorians11/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 578, 620, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="578,490,30" href="https://https://old.reddit.com/r/AskHistorians12/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 578, 490, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="578,423,30" href="https://https://old.reddit.com/r/AskHistorians13/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 578, 423, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="578,348,30" href="https://https://old.reddit.com/r/AskHistorians14/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 578, 348, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="578,210,30" href="https://https://old.reddit.com/r/AskHistorians15/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 578, 210, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="400,210,30" href="https://https://old.reddit.com/r/AskHistorians16/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 400, 210, 30)" onmouseout="hideTooltip('tooltip2')">			
		
		<area shape="circle" coords="761,216,30" href="https://https://old.reddit.com/r/AskHistorians17/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 761, 216, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="761,63,30" href="https://https://old.reddit.com/r/AskHistorians18/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 761, 63, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="761,291,30" href="https://https://old.reddit.com/r/AskHistorians19/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 761, 291, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="761,396,30" href="https://https://old.reddit.com/r/AskHistorians20/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 761, 396, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="761,450,30" href="https://https://old.reddit.com/r/AskHistorians21/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 761, 450, 30)" onmouseout="hideTooltip('tooltip2')">
		<area shape="circle" coords="848,63,30" href="https://https://old.reddit.com/r/AskHistorians22/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 848, 63, 30)" onmouseout="hideTooltip('tooltip2')">	
		<area shape="circle" coords="848,206,30" href="https://https://old.reddit.com/r/AskHistorians23/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 848, 206, 30)" onmouseout="hideTooltip('tooltip2')">	
		<area shape="circle" coords="943,99,30" href="https://https://old.reddit.com/r/AskHistorians124/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 943, 99, 30)" onmouseout="hideTooltip('tooltip2')">	
		<area shape="circle" coords="943,174,30" href="https://https://old.reddit.com/r/AskHistorians25/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 943, 174, 30)" onmouseout="hideTooltip('tooltip2')">	
		<area shape="circle" coords="1127,63,30" href="https://https://old.reddit.com/r/AskHistorians26/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1127, 63, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="1127,173,30" href="https://https://old.reddit.com/r/AskHistorians27/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1127, 173, 30)" onmouseout="hideTooltip('tooltip2')">	
		<area shape="circle" coords="1040,275,30" href="https://https://old.reddit.com/r/AskHistorians28/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1040, 275, 30)" onmouseout="hideTooltip('tooltip2')">	
		<area shape="circle" coords="1127,393,30" href="https://https://old.reddit.com/r/AskHistorians29/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1127, 393, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="1127,503,30" href="https://https://old.reddit.com/r/AskHistorians30/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1127, 503, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="1038,393,30" href="https://https://old.reddit.com/r/AskHistorians31/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1038, 393, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="1038,503,30" href="https://https://old.reddit.com/r/AskHistorians32/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1038, 503, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="943,503,30" href="https://https://old.reddit.com/r/AskHistorians33/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 943, 503, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="848,393,30" href="https://https://old.reddit.com/r/AskHistorians34/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 848, 393, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="851,503,30" href="https://https://old.reddit.com/r/AskHistorians35/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 851, 503, 30)" onmouseout="hideTooltip('tooltip2')">					
		<area shape="circle" coords="1127,748,30" href="https://https://old.reddit.com/r/AskHistorians36/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1127, 748, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="1038,748,30" href="https://https://old.reddit.com/r/AskHistorians37/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1038, 748, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="943,748,30" href="https://https://old.reddit.com/r/AskHistorians38/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 943, 748, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="855,748,30" href="https://https://old.reddit.com/r/AskHistorians39/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 855, 748, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="761,748,30" href="https://https://old.reddit.com/r/AskHistorians40/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 761, 748, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="1086,641,30" href="https://https://old.reddit.com/r/AskHistorians41/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 1086, 641, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="993,641,30" href="https://https://old.reddit.com/r/AskHistorians42/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 993, 641, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="898,641,30" href="https://https://old.reddit.com/r/AskHistorians43/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 898, 641, 30)" onmouseout="hideTooltip('tooltip2')">			
		<area shape="circle" coords="803,640,30" href="https://https://old.reddit.com/r/AskHistorians44/" target="_blank" alt="Area 2"
            onmouseover="showTooltip(event, 'tooltip2', 803, 640, 30)" onmouseout="hideTooltip('tooltip2')">			
					
		
    </map>
</div>
<script>
    // Function to handle tooltip visibility and highlight for desktop and mobile
    function showTooltip(event, tooltipId, x, y, radius) {
        const tooltip = document.getElementById(tooltipId);
        tooltip.style.display = 'block';

        // Adjusting tooltip position based on image scale
        const image = document.getElementById('interactive-image');
        const scale = getImageScaleFactor(image);

        // Position the tooltip correctly based on the scaled image coordinates
        tooltip.style.left = (x * scale.scaleX - 2 * radius) + 'px';
        tooltip.style.top = (y * scale.scaleY - 2 * radius) + 'px';

        // Update the highlight circle position and size
        const highlight = document.getElementById('highlight2');
        highlight.style.display = 'block';
        highlight.style.left = (x * scale.scaleX - radius) + 'px';
        highlight.style.top = (y * scale.scaleY - radius) + 'px';
        highlight.style.width = (radius * 2 * scale.scaleX) + 'px';
        highlight.style.height = (radius * 2 * scale.scaleY) + 'px';
    }

    // Hide the tooltip and highlight
    function hideTooltip(tooltipId) {
        const tooltip = document.getElementById(tooltipId);
        tooltip.style.display = 'none';

        const highlight = document.getElementById('highlight2');
        highlight.style.display = 'none';
    }

    // Calculate the scale factor for responsive image
    function getImageScaleFactor(image) {
        const naturalWidth = image.naturalWidth;
        const naturalHeight = image.naturalHeight;
        const actualWidth = image.offsetWidth;
        const actualHeight = image.offsetHeight;
        
        // Calculate scale factor based on actual image size and its natural size
        const scaleX = actualWidth / naturalWidth;
        const scaleY = actualHeight / naturalHeight;

        return { scaleX, scaleY };
    }

    // Add event listeners for mouseover and touchstart on each area
    const areas = document.querySelectorAll('area');
    areas.forEach(area => {
        area.addEventListener('mouseover', function(event) {
            adjustCoordinatesForDesktop(event, area);
        });

        area.addEventListener('touchstart', function(event) {
            event.preventDefault();  // Prevents multiple triggers on mobile
            adjustCoordinatesForMobile(event, area);
        });

        area.addEventListener('mouseout', function() {
            hideTooltip('tooltip2');
        });

        area.addEventListener('touchend', function() {
            hideTooltip('tooltip2');
        });
    });

    // Adjust coordinates and display tooltips for mobile
    function adjustCoordinatesForMobile(event, area) {
        const image = document.getElementById('interactive-image');
        const { scaleX, scaleY } = getImageScaleFactor(image);

        const coords = area.coords.split(',').map(Number);
        const x = coords[0];
        const y = coords[1];
        const radius = coords[2];

        showTooltip(event, area.alt, x, y, radius);
    }

    // Adjust coordinates and display tooltips for desktop
    function adjustCoordinatesForDesktop(event, area) {
        const image = document.getElementById('interactive-image');
        const { scaleX, scaleY } = getImageScaleFactor(image);

        const coords = area.coords.split(',').map(Number);
        const x = coords[0];
        const y = coords[1];
        const radius = coords[2];

        showTooltip(event, area.alt, x, y, radius);
    }
</script>

</body>
</html>
